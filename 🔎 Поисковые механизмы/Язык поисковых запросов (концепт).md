Для управления поиском применяется язык запросов в 2-х синтаксисах:

1.  на естественном языке (для любителей)
2.  со специальными управляющими символами (для профессионалов: рекрутеров, программистов)

Оба синтаксиса могут быть применены одновременно. Cм. так же язык поисковых запросов: [Яндекс](https://yandex.ru/support/search/query-language/search-context.html), [Google](https://www.google.com/advanced_search), [HeadHunter](https://hh.ru/article/1175), [SuperJob](http://superjob-help.ru/topics/17-osobennosti-poiskovoj-stroki/)

| Варианты исходных запросов (примеры) | Канонизированный запрос (примеры) | Комментарий |
| --- | --- | --- |
| **Поиск всех слов **(в любых словоформах)**** |     |     |
| `c++ C# Java EE`<br><br>`c++ ; C# ,Java EE`<br><br>`c++ И C# и Java EE` | `c++ C#Java EE` |     |
| `кассир, метро Менделеевская`<br><br>`кассир / метро Менделеевская` | `кассир метро Менделеевская` | При перечислении разных сущностей символы `,;/\` нужно трактовать как оператор "и" |
| **Поиск одного из слов **(в любых словоформах)**** |     |     |
| `c++ \| C# \| Java EE`<br><br>`c++ or C# OR Java EE`<br><br>`c++ \| C# OR Java EE`  <br><br>`c++ или C# ИЛИ Java EE`<br><br>`c++, C#, Java EE`<br><br>`c++ \ C# \ Java EE`<br><br>`c++ / C# / Java EE` | `c++ \| C# \| Java EE` | При перечислении однотипных сущностей символы `,;/\` нужно трактовать как оператор "или" |
| `старший/senior инженер` | `(старший **\|** senior) инженер` |     |
| **Исключить слово **(в любых словоформах)**** |     |     |
| `вахтёр -охранник`<br><br>`вахтёр nor охранник`<br><br>`вахтёр NOT охранник`  <br><br>`вахтёр без охранника`<br><br>`вахтёр не охранник` | `вахтёр -охранник` | TODO на последующих шагах нужно расширять запрос до:<br><br>`вахтёр ("не охранник" _\| "_без охранник_"_\|__ -охранник)` |
| `танцовщица не интим` | `танцовщица -интим` | TODO на последующих шагах нужно расширять запрос до:<br><br>`танцовщица ("не интим" _\|_ "без интим" _\|_ -интим)` |
| **Группировка скобками** |     |     |
| `c++ C# Java EE -spring` | `c++ C# Java EE -spring` |     |
| `c++ C# (Java EE -spring)` | `c++  C# Java EE -spring` |     |
| `c++ \| C# \| Java EE -spring` | `(c++ _\|_C# _\|_ Java EE) -spring` |     |
| `c++ \| C# \| (Java EE -spring)` | `c++ __\|__C# _\|_ (Java EE -spring)` |     |
| `c++ \| C# Java EE` | `(c++ _\|_C#) Java EE` |     |
| **Поиск слов с учётом последовательности (в любых словоформах)** |     |     |
| `офис-менеджер` | `офис-менеджер` |     |
| `Боинг-747` | `Боинг-747` |     |
| `100B-VIP` | `100B-VIP` | Sukhoi Superjet 100B-VIP |
| `ж/д вокзал`<br><br>`ж\д вокзал` | `ж/д вокзал` |     |
| `24/7`<br><br>`24\7` | `24/7` |     |
| `Л'Этуаль`<br><br>`McDonald’s` | `Л’Этуаль`<br><br>`McDonald’s` |     |
| `[ivanov@mail.ru](mailto:ivanov@mail.ru)` | `[ivanov@mail.ru](mailto:ivanov@mail.ru)` |     |
| `Яндекс.Директ` | `Яндекс.Директ` |     |
| `36.6`<br><br>`36,6` | `36.6  <br>` | Аптека 36.6 |
| `50,000`<br><br>`50.000`<br><br>`50 000` | `50000` | Числа с разделителями групп через запятую, точку, пробел |
| `8 965 1234567`  <br><br>`+7 965 123 45 67`<br><br>`+7(965)123-45-67`<br><br>`+7(965)123–45–67` | `+79651234567` | Номера телефонов приводим к формату E.164<br><br>См. [☎ Нормализация и валидация номера телефона](https://github.com/rin-nas/docs/blob/master/%E2%98%8E%20%D0%9D%D0%BE%D1%80%D0%BC%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F%20%D0%B8%20%D0%B2%D0%B0%D0%BB%D0%B8%D0%B4%D0%B0%D1%86%D0%B8%D1%8F%20%D0%BD%D0%BE%D0%BC%D0%B5%D1%80%D0%B0%20%D1%82%D0%B5%D0%BB%D0%B5%D1%84%D0%BE%D0%BD%D0%B0.md) |
| **Поиск слов с учётом последовательности и словоформ** |     |     |
| `Продажи` | `Продажи` | Будут найдены документы, содержащие слова **продажей**, **продажа**, **продаж** и т.п. |
| `!Продажи`<br><br>`"Продажи"`<br><br>`!"Продажи"` | `!Продажи` | Будут найдены только те документы, которые содержат слово **продажи**. |
| `"продажа оборудования"`<br><br>`!"продажа оборудования"` | `"продажа оборудования"` | Будут найдены документы, в которых встречается словосочетание **продажа оборудования** (именно в таком порядке). Документ, содержащий текст «продажа торгового оборудования», не будет найден, поскольку между словами здесь стоит еще одно слово. |
| **Поиск с уточнением сущностей** |     |     |
| `работа продавец-кассир`<br><br>`вакансия: продавец-кассир`<br><br>`вакансия - продавец-кассир` | `вакансия: продавец-кассир` |     |
| `компания: "Иванов и партнёры"` |     |     |
| `фио петров николай петрович` |     |     |
| `город Сокол` |     | Исключение неоднозначности с метро "Сокол" |
| `метро Алтуфьево` |     |     |
| `район Таганский`<br><br>`Таганский район` | `район Таганский` |     |
| `район Западное Дегунино` |     | [Районы Москвы](http://moscow.org/moscow_district/) |
| `оранжевая ветка метро` |     | Калужско-Рижская линия метро |

Нужно попробовать придумать динамическую форму ввода в расширенном поиске, т.к. язык запросов осилить пользователям труднее.
